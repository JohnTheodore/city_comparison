language: python
cache: pip
python:
  # note, travis only has 3.6 as the latest. We should check back later to upgrade to 3.7
  - "3.6"
install:
  - pip install -r requirements-dev.txt
  - pip install codecov
# commands to run, must exit 0 to pass
script:
  # test and validate all backend files
  - bash <(curl -s https://codecov.io/bash)
  - flake8
  - yapf --parallel --verbose --recursive --style .style.yapf --exclude 'py37-mac' --diff .
  - find . -type f -name "*.py" ! -path "./py37-mac/*" ! -path "./merging_tests/*" | xargs pylint
  - python -m merging_code.normalize_experian
  - python -m merging_code.normalize_fbi
  - python -m merging_code.scrape_geocodes
  - python -m merging_code.scrape_walkscores
  - python -m merging_code.compile_city_comparison
  - python -m pytest --color=yes merging_tests
