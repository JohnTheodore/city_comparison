language: python
cache: pip
python:
  # note, travis only has 3.6 as the latest. We should check back later to upgrade to 3.7
  - "3.6"
install:
  - pip install -r requirements-dev.txt
# commands to run, must exit 0 to pass
script:
  # test and validate all backend files
  - flake8
  - yapf --parallel --verbose --recursive --style .style.yapf --exclude 'py37-mac' --diff .
  - find . -type f -name "*.py" ! -path "./py37-mac/*" ! -path "./tests/*" | xargs pylint
  - python -m data.experian.merge_experian_data
  - python -m data.geocode.write_geocodes_csv
  - python -m data.walkscore.write_walkscores_csv
  - python -m data.fbi.join_fbi
  - python city_comparison.py
  - python -m pytest --color=yes tests
